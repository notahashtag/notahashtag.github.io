import{Ba as m,Pa as g,Qa as v,Ra as x,Sa as _,Ta as y,Ua as p,Va as l,Wa as n,Xa as f,Za as c,_a as R,ab as D,bb as C,ca as w,cb as E,eb as s,fb as h,gb as b,ra as o}from"./chunk-ORYL3WYM.js";var d=class i{sides;rolls=w(0);newRolls=this.rollTheDice;blurRolls(e){(this.rolls()<0||this.rolls()>100||isNaN(this.rolls()))&&(this.rolls.set(0),e&&(e.value="0",this.showBadRolls(e)))}showBadRolls(e){!e.value||Number(e.value)<0||Number(e.value)>100?e.classList.add("text-red-500"):e.classList.remove("text-red-500")}reset(){this.rolls.set(0)}rollTheDice(){this.blurRolls();let e=Array.from({length:this.rolls()},()=>Math.floor(Math.random()*this.sides)+1),t=e.reduce((r,a)=>r+a,0);return{sides:this.sides,total:t,rolls:e}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=m({type:i,selectors:[["app-dice"]],inputs:{sides:"sides"},outputs:{newRolls:"newRolls"},decls:5,vars:2,consts:[[1,"flex","flex-col","gap-2","items-center"],[1,"size-16","border","rounded","flex","items-center","justify-center","tracking-wider"],["type","number","min","0","max","100","step","1",1,"border","border-gray-500","w-16","rounded-sm","text-center",3,"input","blur","value"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),s(2),n(),l(3,"div")(4,"input",2),c("input",function(u){return r.showBadRolls(u.target),r.rolls.set(u.target.valueAsNumber)})("blur",function(u){return r.blurRolls(u.target)}),n()()()),t&2&&(o(2),b(" d",r.sides," "),o(2),p("value",r.rolls()))},encapsulation:2})};function I(i,e){if(i&1&&(l(0,"div"),f(1,"app-dice",10),n()),i&2){let t=e.$implicit;o(),p("sides",t)}}function N(i,e){if(i&1&&(l(0,"tr")(1,"td",11),s(2,"Total"),n(),l(3,"td",11),s(4),n()(),l(5,"tr")(6,"td",12),f(7,"hr",13),n()()),i&2){let t=R();o(4),h(t.total)}}function M(i,e){if(i&1&&(l(0,"tr")(1,"td",14),s(2),n(),l(3,"td",15),s(4),n()(),l(5,"tr")(6,"td",16),f(7,"hr",13),n()()),i&2){let t=e.$implicit;o(2),b("d",t.sides),o(2),h(t.total)}}function L(i,e){if(i&1&&(l(0,"tr")(1,"td",11),s(2,"Total"),n(),l(3,"td",11),s(4),n()()),i&2){let t=R();o(4),h(t.total)}}var T=class i{diceComponents;diceSides=[4,6,8,10,12,20,100];latestRolls=[];total=0;reset(){this.diceComponents.forEach(e=>{e.reset()}),this.total=0,this.latestRolls=[]}roll(){this.latestRolls=[],this.total=0,this.diceComponents.forEach(e=>{let t=e.newRolls();t.rolls.length!=0&&this.latestRolls.push(t),this.total+=t.total}),console.log("Latest Rolls:",this.latestRolls)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=m({type:i,selectors:[["app-dice-roll"]],viewQuery:function(t,r){if(t&1&&D(d,5),t&2){let a;C(a=E())&&(r.diceComponents=a)}},decls:19,vars:2,consts:[[1,"flex","flex-col","p-4","bg-gray-700","text-white","gap-8","h-full"],[1,"w-full","h-fit"],[1,"flex","flex-wrap","gap-4","w-full","justify-center"],[1,"w-full"],[1,"flex","justify-center","gap-8"],[1,"bg-white","text-black","shadow-lg/50","shadow-green-500","rounded-lg","px-2","py-1","hover:bg-gray-400",3,"click"],[1,"bg-white","text-black","shadow-lg/50","shadow-red-500","rounded-lg","px-2","py-1","hover:bg-gray-400",3,"click"],[1,"flex-1","w-full"],[1,"flex","flex-col","items-center"],[1,"table-auto","w-fit","border-spacing-x-8","border-spacing-y-2","border-separate"],[3,"sides"],[1,"font-bold","tracking-wider"],["colspan","2"],[1,"text-gray-500"],[1,"align-top","tracking-wider"],[1,"align-bottom","text-right","tracking-wider"],["colspan","3"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),_(3,I,2,1,"div",null,x),n()(),l(5,"div",3)(6,"div",4)(7,"button",5),c("click",function(){return r.roll()}),s(8,"Roll Dice"),n(),l(9,"button",6),c("click",function(){return r.reset()}),s(10,"Reset"),n()()(),l(11,"div",7)(12,"div",8)(13,"table",9)(14,"tbody"),g(15,N,8,1),_(16,M,8,2,null,null,x),g(18,L,5,1,"tr"),n()()()()()),t&2&&(o(3),y(r.diceSides),o(12),v(r.total>0?15:-1),o(),y(r.latestRolls),o(2),v(r.total>0?18:-1))},dependencies:[d],encapsulation:2})};export{T as DiceRoll};
